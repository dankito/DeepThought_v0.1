<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<script src="ckeditor/ckeditor.js"></script>
	<script src="toolbar.js"></script>
	<script src="jquery-2.1.4.js"></script>
</head>

<body>
<div id="container" >
<textarea id="editor" name="editor" >

</textarea>
</div>

<script type="text/javascript">

	CKEDITOR.env.isCompatible = true;
	CKEDITOR.config.removePlugins = 'elementspath,resize';

	var editor = CKEDITOR.replace( 'editor', {
	   	top: 0,
	   	left: 0,
	   	width : '100%',
	   	height : '100%',
	   	allowedContent: true,

        on: {
			pluginsLoaded: function() {
			   customizeToolbar(editor);
			}
		}
	} );

	editor.on('loaded', function() {
		editor.resize($(window).width(), $(window).height());
	});

	editor.on('change', function() {
		<!-- Notify Java code that Html text has changed -->
		if(typeof app !== 'undefined') {
			app.htmlChanged(editor.getData());
		}
	});

	<!--editor.on('beforeCommandExec', function(evt) {-->
		<!--alert(evt.data.name);-->
		<!--return false; // command then won't be executed-->
	<!--});-->

	$(window).resize( function() {
		<!-- This is curious, mostly it fits perfectly in window then, but sometimes it gets a margin -->
		editor.resize($(window).width(), $(window).height());
	});

</script>

<script type="text/javascript">
        function callJava(){
        	if(typeof app !== 'undefined') {
				app.htmlChanged(editor.getData());
            }
        }
    </script>
</body>

</html> 
